# bo - 凯利公式计算器

支持标准投注、Polymarket 预测市场和股票交易的仓位管理工具。

## 功能

- **标准模式**: 赔率 + 胜率计算凯利公式
- **Polymarket 模式**: 针对预测市场优化
- **股票交易模式**: 基于买入价/止盈价/止损价计算仓位
- 交互式和命令行模式
- 仓位建议（全凯利、半凯利、1/4凯利）

## 安装

```bash
cargo build --release
```

二进制文件位于 `target/release/bo`。

## 使用

### 标准模式

```bash
./bo <赔率> <胜率> [本金]
```

示例：
```bash
./bo 2.0 60              # 赔率2.0，胜率60%
./bo 2.0 60 10000        # 本金10000
```

### Polymarket 模式

```bash
./bo -p <市场价格> <你的概率> [本金]
```

示例：
```bash
./bo -p 60 75            # 市场价格60c，你认为75%
./bo -p 60 75 1000       # 本金1000
```

### 股票交易模式

```bash
./bo -s <当前价> <止盈价> <止损价> <胜率> [本金]
```

示例：
```bash
./bo -s 100 120 90 60            # 当前价100，止盈120，止损90，胜率60%
./bo -s 100 120 90 60 10000       # 本金10000
```

### 交互式模式

```bash
./bo              # 标准模式
./bo -p           # Polymarket
./bo -s           # 股票交易
```

## 凯利公式

**标准模式：**
```
f* = (bp - q) / b
```
- `b` = 净赔率 (赔率 - 1)
- `p` = 胜率
- `q` = 败率 (1 - p)

**Polymarket：**
```
f* = (你的概率 - 市场价格) / (1 - 市场价格)
```

**股票交易：**
```
b = (止盈价 - 当前价) / (当前价 - 止损价)  // 盈亏比
f* = (bp - q) / b
```

## 许可证

MIT
